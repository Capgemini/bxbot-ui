<div *ngIf="exchange" class="module">
    <h2>{{exchange.id}} Exchange Details</h2>
    <div>
        <label>Id:</label>
        <label>{{exchange.id}}</label>
    </div>
    <div>
        <label>Adapter:</label>
        <input [(ngModel)]="exchange.adapter" placeholder="adapter" size="50"/>
    </div>

    <h3>Network Config</h3>
    <div>
        <label>Connection Timeout (secs):</label>
        <input [(ngModel)]="exchange.networkConfig.connectionTimeout" placeholder="adapter" size="5"/>
    </div>

    <div>
        <label>Non Fatal HTTP Error Codes:</label>
        <input #httpStatusCode size="5"/>
        <button (click)="addErrorCode(httpStatusCode.value); httpStatusCode.value=''">
            Add
        </button>
        <ul class="items">
            <li *ngFor="let errorCode of exchange.networkConfig.nonFatalErrorHttpStatusCodes; let i=index;"
                (click)="onSelectErrorCode(exchange.networkConfig.nonFatalErrorHttpStatusCodes[i])"
                [class.selected]="exchange.networkConfig.nonFatalErrorHttpStatusCodes[i] === selectedErrorCode">
                <input [(ngModel)]="exchange.networkConfig.nonFatalErrorHttpStatusCodes[i].value" placeholder="501"
                       size="5">
                <button class="delete"
                        (click)="deleteErrorCode(exchange.networkConfig.nonFatalErrorHttpStatusCodes[i]); $event.stopPropagation()">
                    x
                </button>
            </li>
        </ul>
    </div>

    <div>
        <label>Non Fatal Error Messages:</label>
        <input #errorMessage size="40"/>
        <button (click)="addErrorMessage(errorMessage.value); errorMessage.value=''">
            Add
        </button>
        <ul class="items">
            <li *ngFor="let errorCode of exchange.networkConfig.nonFatalErrorMessages; let i=index;"
                (click)="onSelectErrorMessage(exchange.networkConfig.nonFatalErrorMessages[i])"
                [class.selected]="exchange.networkConfig.nonFatalErrorMessages[i] === selectedErrorMessage">
                <input [(ngModel)]="exchange.networkConfig.nonFatalErrorMessages[i].value"
                       placeholder="Connection reset" size="40">
                <button class="delete"
                        (click)="deleteErrorMessage(exchange.networkConfig.nonFatalErrorMessages[i]); $event.stopPropagation()">
                    x
                </button>
            </li>
        </ul>
    </div>

    <hr>
    <button (click)="goBack()">Back</button>
    <button (click)="save()">Save</button>

</div>
